---
title: Отладка шаблонов
permalink: usage/deploy/debug_templates.html
---

## Обзор

В процессе разработки и деплоя приложений с помощью `werf` и Helm может возникнуть необходимость проверить, как именно шаблоны манифестов преобразуются в итоговые YAML-файлы. Для этого `werf` предоставляет несколько инструментов, упрощающих отладку и диагностику шаблонов Helm-чартов.

На этой странице рассмотрены команды и флаги, которые помогут вам:

* посмотреть, как отрендерился конкретный шаблон;
* понять, какие значения были автоматически подставлены в Helm-чарт;
* быстрее находить ошибки или несоответствия в конфигурации.

## Отладка шаблонов манифестов

Используйте `werf render`, чтобы полностью сформировать и отобразить конечные Kubernetes-манифесты. Укажите опцию `--debug`, чтобы увидеть манифесты, даже если они не являются корректным YAML.

Отобразить содержимое переменной:

{% raw %}

```
output: {{ $appName | toYaml }}
```

{% endraw %}

Отобразить содержимое переменной-списка или словаря:

{% raw %}

```
output: {{ $dictOrList | toYaml | nindent 2 }}
```

{% endraw %}

Отобразить тип данных у переменной:

{% raw %}

```
output: {{ kindOf $myvar }}
```

{% endraw %}

Отобразить произвольную строку, остановив дальнейшее формирование шаблонов:

{% raw %}

```
{{ fail (printf "Тип данных: %s" (kindOf $myvar)) }}
```

{% endraw %}

### -s, --show-only=[]

Показывать только манифесты, отрендеренные из указанных шаблонов.

Флаг позволяет ограничить вывод командой werf render (или другими командами, использующими рендеринг Helm-шаблонов), чтобы отображались только манифесты, сгенерированные из определённых файлов шаблонов.

```bash
$ werf render -s .helm/charts/frontend/templates/deployment.yaml
---
# Source: demo-app/charts/frontend/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  annotations:
    meta.helm.sh/release-name: demo-app
    meta.helm.sh/release-namespace: demo-app
...
```

### werf helm get-autogenerated-values

Получить YAML со значениями service values, сгенерированными werf для Helm-чарта во время деплоя.

```bash
$ werf helm get-autogenerated-values
global:
  werf:
    name: demo-app
    version: v2.36.4
werf:
  commit:
    date:
      human: 2025-05-21 14:39:58 +0300 +0300
      unix: 1747827598
    hash: 577ec7a7caf4d5f94d5cf05df5c0fb74f5a8b6ac
  image:
    backend: REPO:TAG
    frontend: REPO:TAG
  is_stub: true
  name: demo-app
  namespace: demo-app
  repo: REPO
  stub_image: REPO:TAG
  tag:
    backend: TAG
    frontend: TAG
  version: v2.36.4
```

{% include pages/ru/debug_template_flag.md.liquid %}
