---
title: Debug werf.yaml
permalink: /usage/project_configuration/debug_werf_yaml.html
---

## Обзор

Файл `werf.yaml` может быть параметризован с помощью Go templates, что делает его мощным, но сложным в отладке. Werf предоставляет несколько команд для просмотра конечной конфигурации проекта и построения зависимостей: `render`, `list`, `graph`. Подробнее про шаблонизатор можно ознакомится [тут]({{"usage/project_configuration/werf_yaml_template_engine.html" | true_relative_url }})

[Пример](https://werf.test.flant.com/getting_started/), который будет использоваться

## `werf config render`

Показывает итоговую конфигурацию `werf.yaml` после рендеринга шаблонов.

### Пример команды

```bash
werf config render
```
### Пример вывода:

```yaml
project: demo-app
configVersion: 1

---
image: backend
dockerfile: backend.Dockerfile

---
image: frontend
dockerfile: frontend.Dockerfile
```

### Когда полезно

* Проверка, что шаблоны Go корректно отрабатывают;
* Удостовериться, что значения переменных заданы как ожидалось;
* Отладка `dependencies` и других вложенных структур.

## `werf config list`

Выводит список всех образов, определённых в итоговом `werf.yaml`.

### Пример команды

```bash
werf config list
```

### Пример вывода:

```bash
backend
frontend
```

### Когда полезно

* Быстрая проверка всех образов, которые будут собираться;
* Диагностика генерации имён при использовании шаблонов.

## `werf config graph`

Строит граф зависимостей между образами.

### Пример команды

```bash
werf config graph
```

### Пример вывода:

```yaml
- image: backend
- image: frontend
```

### Когда полезно

* Проверка, что зависимости подключены корректно;
* Отладка сложных схем сборки с `dependencies`.

<!-- ## debug-templates flag

Включает режим отладки шаблонов, который позволяет просматривать отрендеренные шаблоны в файле werf.yaml (по умолчанию — значение переменной окружения $WERF_DEBUG_TEMPLATES или false).

### Пример команды

```bash
werf config render
```
-->

## Отладка шаблонов манифестов

{% include pages/ru/debugging_templates.md.liquid %}

### -s, --show-only=[]

Показывать только манифесты, отрендеренные из указанных шаблонов.

Флаг позволяет ограничить вывод командой werf render (или другими командами, использующими рендеринг Helm-шаблонов), чтобы отображались только манифесты, сгенерированные из определённых файлов шаблонов.

```bash
werf render -s .helm/charts/frontend/templates/deployment.yaml
```

```yaml
---
# Source: demo-app/charts/frontend/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  annotations:
    meta.helm.sh/release-name: demo-app
    meta.helm.sh/release-namespace: demo-app
    project.werf.io/env: ""
    project.werf.io/name: demo-app
    werf.io/version: v2.36.4
    werf.io/weight: "30"
  labels:
    app.kubernetes.io/managed-by: Helm
  name: frontend
spec:
  selector:
    matchLabels:
      app: frontend
  template:
    metadata:
      labels:
        app: frontend
    spec:
      containers:
      - image: REPO:TAG
        name: frontend
        ports:
        - containerPort: 80
        resources:
          limits:
            cpu: 50m
            memory: 48Mi
          requests:
            cpu: 50m
            memory: 48Mi
        volumeMounts:
        - mountPath: /etc/nginx/nginx.conf
          name: config
          subPath: nginx.conf
      volumes:
      - configMap:
          name: frontend-config
        name: config
```

### werf helm get-autogenerated-values

Получить YAML со значениями service values, сгенерированными werf для Helm-чарта во время деплоя.

```bash
werf helm get-autogenerated-values
```

```yaml
global:
  werf:
    name: demo-app
    version: v2.36.4
werf:
  commit:
    date:
      human: 2025-05-21 14:39:58 +0300 +0300
      unix: 1747827598
    hash: 577ec7a7caf4d5f94d5cf05df5c0fb74f5a8b6ac
  image:
    backend: REPO:TAG
    frontend: REPO:TAG
  is_stub: true
  name: demo-app
  namespace: demo-app
  repo: REPO
  stub_image: REPO:TAG
  tag:
    backend: TAG
    frontend: TAG
  version: v2.36.4
```