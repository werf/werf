---
title: Директивы артефактов
sidebar: doc_sidebar
permalink: artifact_directives.html
folder: directive
---

### Особенности

* Пути добавления не должны пересекаться между артефактами.
* Изменение любого параметра артефакта ведёт к смене сигнатур, пересборке связанных [стадий](definitions.html#стадии) приложения.
* Приложение может содержать любое количество артефактов.

### Опциональные параметры артефакта
Все артефакты имеют следующие опциональные параметры: 

* cwd: поменять рабочую директорию.
* paths: добавить только указанные пути.
* exclude_paths: игнорировать указанные пути.  
* owner: определить пользователя.
* group: определить группу.

### artifact \<where_to_add\>, before: \<before\>, after: \<after\>\[, [опциональные параметры артефакта](#опциональные-параметры-артефакта)\]
Позволяет определять [артефакты](definitions.html#артефакт).

* Обязательный параметр **where_to_add** одновременно определяет директории артефакта, с необходимыми ресурсами, и связанных приложений, в которые будут копироваться эти ресурсы.
* Обязательно использование хотя бы одного из параметров **before** или **after**, где:
  * параметр определяет порядок применения артефакта (до или после);
  * значение определяет стадию (install или setup).

### artifact\_depends\_on \<glob\>\[,\<glob\>, \<glob\>, ...]
Список файлов зависимостей для стадии [build_artifact](shell_directives.html#shell-build_artifact-<cmd>-<cmd>-cache_version-<cache_version>) [артефакта](definitions.html#артефакт).

* При изменении содержимого указанных файлов, произойдет пересборка стадии build_artifact.
* Учитывается лишь содержимое файлов и порядок в котором они указаны (имена файлов не учитываются).
* Поддерживаются glob-паттерны.
* Директории игнорируются.

### git_artifact.local \<where_to_add\>\[, [опциональные параметры артефакта](#опциональные-параметры-артефакта)\]
Позволяет определять локальный git-артефакт.

* Обязательный параметр **where_to_add** определяет директорию хранения артефакта.

### git_artifact.remote \<url\>, \<where_to_add\>\[, [опциональные параметры артефакта](#опциональные-параметры-артефакта)\]
Позволяет определять удалённый git-артефакт.

* Обязательный параметр **where_to_add** определяет директорию хранения артефакта.
* Обязательный параметр **url** определяет адрес удалённого git-репозитория.
